<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>cif-api: Whole-CIF functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="dox.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Whole-CIF functions</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__whole__cif__funcs.html#ga0cce5f153ba6c513cec3eeaecf93ba1b">cif_create</a> (<a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> **cif)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new, empty, managed CIF.  <a href="#ga0cce5f153ba6c513cec3eeaecf93ba1b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__whole__cif__funcs.html#ga4781ccd52bdc70271b44e6648f3ea41a">cif_destroy</a> (<a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> *cif)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes the specified managed CIF, releasing all resources it holds.  <a href="#ga4781ccd52bdc70271b44e6648f3ea41a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__whole__cif__funcs.html#gafa7ee8ca1c1105dc398153a340570fee">cif_create_block</a> (<a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> *cif, const UChar *code, <a class="el" href="group__datatypes.html#gac72757cd535deb2a338eb3b0a7afb29d">cif_block_tp</a> **block)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new data block bearing the specified code in the specified CIF.  <a href="#gafa7ee8ca1c1105dc398153a340570fee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__whole__cif__funcs.html#gab4db0c96e1f05332f23a9fc733f1c8b2">cif_get_block</a> (<a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> *cif, const UChar *code, <a class="el" href="group__datatypes.html#gac72757cd535deb2a338eb3b0a7afb29d">cif_block_tp</a> **block)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Looks up and optionally returns the data block bearing the specified block code, if any, in the specified CIF.  <a href="#gab4db0c96e1f05332f23a9fc733f1c8b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__whole__cif__funcs.html#gaf4b3170db6570967d31c4e0dd7870229">cif_get_all_blocks</a> (<a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> *cif, <a class="el" href="group__datatypes.html#gac72757cd535deb2a338eb3b0a7afb29d">cif_block_tp</a> ***blocks)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Provides a null-terminated array of data block handles, one for each block in the specified CIF.  <a href="#gaf4b3170db6570967d31c4e0dd7870229"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__whole__cif__funcs.html#ga4773f5b0646e96e25d0f712c011f8bb1">cif_walk</a> (<a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> *cif, <a class="el" href="structcif__handler__tp.html">cif_handler_tp</a> *handler, void *context)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Performs a depth-first, natural-order traversal of a CIF, calling back to handler routines provided by the caller for each structural element.  <a href="#ga4773f5b0646e96e25d0f712c011f8bb1"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga0cce5f153ba6c513cec3eeaecf93ba1b"></a><!-- doxytag: member="cif.h::cif_create" ref="ga0cce5f153ba6c513cec3eeaecf93ba1b" args="(cif_tp **cif)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cif_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> **&nbsp;</td>
          <td class="paramname"> <em>cif</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new, empty, managed CIF. </p>
<p>If the function succeeds then the caller assumes responsibility for releasing the resources associated with the managed CIF via the <code><a class="el" href="group__whole__cif__funcs.html#ga4781ccd52bdc70271b44e6648f3ea41a" title="Removes the specified managed CIF, releasing all resources it holds.">cif_destroy()</a></code> function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>cif</em>&nbsp;</td><td>a pointer to the location where a handle on the managed CIF should be recorded; must not be NULL. The initial value of <code>*cif</code> is ignored, and is overwritten on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns <code>CIF_OK</code> on success or an error code (typically <code>CIF_ERROR</code> ) on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="gafa7ee8ca1c1105dc398153a340570fee"></a><!-- doxytag: member="cif.h::cif_create_block" ref="gafa7ee8ca1c1105dc398153a340570fee" args="(cif_tp *cif, const UChar *code, cif_block_tp **block)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cif_create_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> *&nbsp;</td>
          <td class="paramname"> <em>cif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UChar *&nbsp;</td>
          <td class="paramname"> <em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__datatypes.html#gac72757cd535deb2a338eb3b0a7afb29d">cif_block_tp</a> **&nbsp;</td>
          <td class="paramname"> <em>block</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new data block bearing the specified code in the specified CIF. </p>
<p>This function can optionally return a handle on the new block via the <code>block</code> argument. When that option is used, the caller assumes responsibility for cleaning up the provided handle via either <code><a class="el" href="group__container__funcs.html#ga3b4c2f857ef751bd9ecaca4258215802" title="Frees any resources associated with the specified container handle without modifying...">cif_container_free()</a></code> (to clean up only the handle) or <code><a class="el" href="group__container__funcs.html#ga55286c0a498bf8f1d59678e2f369490d" title="Frees any resources associated with the specified container handle, and furthermore...">cif_container_destroy()</a></code> (to also remove the block from the managed CIF).</p>
<p>The caller retains ownership of all the arguments.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cif</em>&nbsp;</td><td>a handle on the managed CIF object to which a new block should be added; must be non-NULL and valid.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>code</em>&nbsp;</td><td>the block code of the block to add, as a NUL-terminated Unicode string; the block code must comply with CIF constraints on block codes.</td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>block</em>&nbsp;</td><td>if not NULL, then a location where a handle on the new block should be recorded, overwriting any previous value. A handle is recorded only on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>CIF_OK</code> on success or an error code on failure, normally one of: <ul>
<li><code>CIF_ARGUMENT_ERROR</code> if the provided block code is NULL </li>
<li><code>CIF_INVALID_BLOCKCODE</code> if the provided block code is invalid </li>
<li><code>CIF_DUP_BLOCKCODE</code> if the specified CIF already contains a block having the given code (note that block codes are compared in a Unicode-normalized and caseless form) </li>
<li><code>CIF_ERROR</code> for most other failures </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga4781ccd52bdc70271b44e6648f3ea41a"></a><!-- doxytag: member="cif.h::cif_destroy" ref="ga4781ccd52bdc70271b44e6648f3ea41a" args="(cif_tp *cif)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cif_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> *&nbsp;</td>
          <td class="paramname"> <em>cif</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes the specified managed CIF, releasing all resources it holds. </p>
<p>The <code>cif</code> handle and any outstanding handles on its contents are invalidated by this function. The effects of any further use of them (except release via the <code>cif_*_free</code>() functions) are undefined, though the functions of this library <em>may</em> return code <code>CIF_INVALID_HANDLE</code> if such a handle is passed to them. Any resources belonging to the provided handle itself are also released, but not those belonging to any other handle. The original external source (if any) of the CIF data is not affected.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cif</em>&nbsp;</td><td>the handle on the CIF to destroy; must not be NULL. On success, this handle ceases to be valid.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns <code>CIF_OK</code> on success or an error code (typically <code>CIF_ERROR</code> ) on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf4b3170db6570967d31c4e0dd7870229"></a><!-- doxytag: member="cif.h::cif_get_all_blocks" ref="gaf4b3170db6570967d31c4e0dd7870229" args="(cif_tp *cif, cif_block_tp ***blocks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cif_get_all_blocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> *&nbsp;</td>
          <td class="paramname"> <em>cif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__datatypes.html#gac72757cd535deb2a338eb3b0a7afb29d">cif_block_tp</a> ***&nbsp;</td>
          <td class="paramname"> <em>blocks</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Provides a null-terminated array of data block handles, one for each block in the specified CIF. </p>
<p>The caller takes responsibility for cleaning up the provided block handles and the dynamic array containing them.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cif</em>&nbsp;</td><td>a handle on the managed CIF object from which to draw block handles; must be non-NULL and valid. The caller retains ownership of this argument.</td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>blocks</em>&nbsp;</td><td>a pointer to the location where a pointer to the resulting array of block handles should be recorded. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>CIF_OK</code> on success, or an error code (typically <code>CIF_ERROR</code> ) on failure </dd></dl>

</div>
</div>
<a class="anchor" id="gab4db0c96e1f05332f23a9fc733f1c8b2"></a><!-- doxytag: member="cif.h::cif_get_block" ref="gab4db0c96e1f05332f23a9fc733f1c8b2" args="(cif_tp *cif, const UChar *code, cif_block_tp **block)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cif_get_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> *&nbsp;</td>
          <td class="paramname"> <em>cif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UChar *&nbsp;</td>
          <td class="paramname"> <em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__datatypes.html#gac72757cd535deb2a338eb3b0a7afb29d">cif_block_tp</a> **&nbsp;</td>
          <td class="paramname"> <em>block</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Looks up and optionally returns the data block bearing the specified block code, if any, in the specified CIF. </p>
<p>Note that CIF block codes are matched in caseless and Unicode-normalized form.</p>
<p>The caller retains ownership of all arguments.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cif</em>&nbsp;</td><td>a handle on the managed CIF object in which to look up the specified block code; must be non-NULL and valid.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>code</em>&nbsp;</td><td>the block code to look up, as a NUL-terminated Unicode string.</td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>block</em>&nbsp;</td><td>if not NULL on input, and if a block matching the specified code is found, then a handle on it is written where this argument points. The caller assumes responsibility for releasing this handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>CIF_OK</code> on a successful lookup (even if <code>block</code> is NULL), <code>CIF_NOSUCH_BLOCK</code> if there is no data block bearing the given code in the given CIF, or an error code (typically <code>CIF_ERROR</code> ) if an error occurs. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4773f5b0646e96e25d0f712c011f8bb1"></a><!-- doxytag: member="cif.h::cif_walk" ref="ga4773f5b0646e96e25d0f712c011f8bb1" args="(cif_tp *cif, cif_handler_tp *handler, void *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cif_walk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datatypes.html#ga118532ee38b48f9879f2e18e18402731">cif_tp</a> *&nbsp;</td>
          <td class="paramname"> <em>cif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcif__handler__tp.html">cif_handler_tp</a> *&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Performs a depth-first, natural-order traversal of a CIF, calling back to handler routines provided by the caller for each structural element. </p>
<p>Traverses the tree structure of a CIF, invoking caller-specified handler functions for each structural element along the route. Order is block -&gt; [frame -&gt; ...] loop -&gt; packet -&gt; item, with save frames being traversed before loops within each data block. Handler callbacks can influence the walker's path via their return values, instructing it to continue as normal (<code>CIF_TRAVERSE_CONTINUE</code>), to avoid traversing the children of the current element (<code>CIF_TRAVERSE_SKIP_CURRENT</code>), to avoid traversing subsequent siblings of the current element (<code>CIF_TRAVERSE_SKIP_SIBLINGS</code>), or to terminate the walk altogether (<code>CIF_TRAVERSE_END</code>). For the purposes of this function, loops are not considered "siblings" of save frames.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cif</em>&nbsp;</td><td>a handle on the CIF to traverse </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>handler</em>&nbsp;</td><td>a structure containing the callback functions handling each type of CIF structural element </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>context</em>&nbsp;</td><td>a context object to pass to each callback function; opaque to the walker itself</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns <code>CIF_OK</code> on success, or an error code (typically <code>CIF_ERROR</code>) on failure </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr/>
<p style="font-size: small">Copyright 2014, 2015 John C. Bollinger</p>

